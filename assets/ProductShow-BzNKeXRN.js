import{_ as b,b as N,q as C,r as g,x as w,y as p,z as x,f,o as i,c,a as o,t as n,n as r,h as l,F as S,g as I,i as k,j as y,d as T,p as F,k as V}from"./index-Cz0k0I1w.js";const B={setup(){const a=N(),u=C(),_=g(!1),t=g(null),m=()=>{const e=p.products.value.find(s=>s.id===parseInt(a.params.id)&&s.slug===a.params.slug);t.value=e||null,_.value=!0};w(async()=>{await p.initProducts(),m()});const h=x(()=>t.value?p.products.value.filter(e=>e.category===t.value.category&&e.id!==t.value.id).slice(0,4):[]);return{product:t,relatedProducts:h,productLoaded:_,addToCart:e=>{if(e.price!==void 0&&!isNaN(e.price)){const s={id:e.id,name:e.name,image:`/shop/images/${e.image}`,price:e.price,type:"product"};u.dispatch("addToCart",s)}else console.error("Invalid product price",e)}}}},d=a=>(F("data-v-6a983bbf"),a=a(),V(),a),L={key:0},M={key:0,class:"product"},j={class:"header-wrapper"},q={class:"product-details"},z={class:"image-wrapper"},D=["src","alt"],E={class:"description-wrapper"},R=d(()=>o("strong",null,"Материал:",-1)),A=d(()=>o("strong",null,"Дизайн:",-1)),G=d(()=>o("strong",null,"Фасон:",-1)),H=d(()=>o("strong",null,"Печать:",-1)),J=d(()=>o("strong",null,"Уход:",-1)),K={class:"price-button-container"},O={key:0,class:"price"},Q={key:1,class:"related-products"},U=d(()=>o("h2",null,"Похожие товары",-1)),W={class:"items-grid"},X={class:"item-image-container"},Y=["src","alt"],Z={class:"item-info"},P={key:0},$=["onClick"],oo={key:2},to={key:1};function so(a,u,_,t,m,h){const v=f("router-link"),e=f("v-icon");return t.productLoaded?(i(),c("div",L,[t.product?(i(),c("section",M,[o("div",j,[o("h1",null,n(t.product.name),1)]),o("div",q,[o("div",z,[o("img",{src:`/shop/images/${t.product.image}`,alt:t.product.name},null,8,D)]),o("div",E,[o("p",null,n(t.product.description),1),o("ul",null,[o("li",null,[R,r(" "+n(t.product.material),1)]),o("li",null,[A,r(" "+n(t.product.design),1)]),o("li",null,[G,r(" "+n(t.product.cut),1)]),o("li",null,[H,r(" "+n(t.product.print),1)]),o("li",null,[J,r(" "+n(t.product.care),1)])]),o("div",K,[t.product.price!==void 0&&!isNaN(t.product.price)?(i(),c("p",O," Цена: "+n(Number(t.product.price).toFixed(2))+" ₽ ",1)):l("",!0),o("button",{class:"btn",onClick:u[0]||(u[0]=s=>t.addToCart(t.product))},"Добавить в корзину")])])])])):l("",!0),t.relatedProducts.length?(i(),c("section",Q,[U,o("div",W,[(i(!0),c(S,null,I(t.relatedProducts,s=>(i(),c("div",{key:s.id,class:"item product"},[k(v,{to:{name:"product.show",params:{id:s.id,slug:s.slug}}},{default:y(()=>[o("h2",null,n(s.name),1),o("div",X,[o("img",{src:`/shop/images/${s.image}`,alt:s.name},null,8,Y)])]),_:2},1032,["to"]),o("div",Z,[s.price!==void 0&&!isNaN(s.price)?(i(),c("p",P," Цена: "+n(Number(s.price).toFixed(2))+" ₽ ",1)):l("",!0),o("button",{class:"btn",onClick:T(eo=>t.addToCart(s),["prevent"])},[k(e,null,{default:y(()=>[r("mdi-cart")]),_:1})],8,$)])]))),128))])])):l("",!0),t.product?l("",!0):(i(),c("div",oo," Продукт не найден "))])):(i(),c("div",to," Загрузка... "))}const io=b(B,[["render",so],["__scopeId","data-v-6a983bbf"]]);export{io as default};
